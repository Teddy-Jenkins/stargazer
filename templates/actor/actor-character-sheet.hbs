<form class="{{cssClass}} {{actor.type}} sheet-contents" autocomplete="off">

  {{!-- Sheet Header --}}
  <section class="sheet-header grid-eleven-twelfths">
      
      <div class="header-fields">
        <div class="top-section grid top-section-grid">
        <div class="portrait-section">
          <img class="profile" id="actor-profile" src="{{actor.img}}" title="{{actor.name}}" data-edit="img"/>
          <h2 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h2>

          <div class="dice-roller-box">
              <div class="dice-roller-mod dice-roller-adv">
                <label>
                  <input type="checkbox" name="flags.stargazer.advantage" {{#if flags.stargazer.advantage}}checked{{/if}}><br>
                  ADV
                </label>
              </div>
              <div class="dice-roller" data-skill="Action">
                <h4 for="system.action.score" class="rollable" data-roll="(@action.score)d6cs>=4" data-score="{{system.action.score}}" data-label="Action">Roll</h4>
                <input class="" type="text" name="system.action.score" value="{{system.action.score}}" data-dtype="Number"/>
              </div>
              <div class="dice-roller-mod dice-roller-dis">
                <label>
                  <input type="checkbox" name="flags.stargazer.disadvantage" {{#if flags.stargazer.disadvantage}}checked{{/if}}><br>
                  DIS
                </label>
              </div>
          </div>
          
        </div>
          <div class="char-info">
            <div class="char-stats-container">
              <div class="wealth-container">
                <h3 for="system.wealth" class="rollable" data-roll="(@wealth)d6cs>=4" data-score="{{system.wealth}}" data-label="Wealth">Wealth</h3>
                <div class="">
                  <h3><input class="hp-input" name="system.wealth" type="text" value="{{system.wealth}}" data-dtype="Number"/></h3>
                </div>
              </div>
              <div class="funds-container">
                <h3 for="system.funds" data-score="{{system.funds}}" data-label="Funds">Funds</h3>
                <div class="">
                  <h3><input class="hp-input" name="system.funds" type="text" value="{{system.funds}}" data-dtype="Number"/></h3>
                </div>
              </div>
              <div class="cash-container">
                <h3 for="system.cash" data-score="{{system.cash}}" data-label="Cash">Cash</h3>
                <div class="">
                  <h3><input class="hp-input" type="text" name="system.cash" value="{{system.cash}}" data-dtype="Number"/></h3>
                </div>
              </div>
            </div>
            <div class="character-resources">
              <div>
                <h2>Momentum</h2>
                <section class="resource-list">
                  <div class="action-number">10</div>
                  <div class="action-number">9</div>
                  <div class="action-number">8</div>
                  <div class="action-number">7</div>
                  <div class="action-number">6</div>
                  <div class="action-number">5</div>
                  <div class="action-number">4</div>
                  <div class="action-number">3</div>
                  <div class="action-number">2</div>
                  <div class="action-number">1</div>
                  <div class="action-number">0</div>
                </section>
              </div>
              <div>
                <h2>Resolve</h2>
                <section class="resource-list">
                  <div class="resolve-number">10</div>
                  <div class="resolve-number">9</div>
                  <div class="resolve-number">8</div>
                  <div class="resolve-number">7</div>
                  <div class="resolve-number">6</div>
                  <div class="resolve-number">5</div>
                  <div class="resolve-number">4</div>
                  <div class="resolve-number">3</div>
                  <div class="resolve-number">2</div>
                  <div class="resolve-number">1</div>
                  <div class="resolve-number">0</div>
                </section>
            </div>
            <div>
              <h2>Heart</h2>
                <section class="resource-list">
                  <div class="heart-number">10</div>
                  <div class="heart-number">9</div>
                  <div class="heart-number">8</div>
                  <div class="heart-number">7</div>
                  <div class="heart-number">6</div>
                  <div class="heart-number">5</div>
                  <div class="heart-number">4</div>
                  <div class="heart-number">3</div>
                  <div class="heart-number">2</div>
                  <div class="heart-number">1</div>
                  <div class="heart-number">0</div>
                </section>
            </div>
            </div>
            
        </div>
      </div>
    </div>

  {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="stats">Stats</a>
        <a class="item" data-tab="threads">Threads</a>
        <a class="item" data-tab="items">Inventory</a>
    </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">
      {{!-- Skills Tab --}}
      <div class="tab stats" data-group="primary" data-tab="stats">
        <div class="stats-wrapper">
          <!-- {{editor 
              enrichedDescription
              engine='prosemirror'
              target="system.biography" button=true owner=owner editable=editable
              }}-->
        <div class="skill-container">
          <div class="skills">
            

            <h3>Attributes</h3>
                    <!-- <h2 style="text-align: center;">Skills</h2> -->
            {{#each system.attributes as |attribute key|}}
            {{#if attribute.corrected}}
                <div class="skill" data-skill="{{key}}">

                    <h4 for="system.attributes.{{key}}.score" class="skill-name" data-label="{{key}}">{{key}}</h4>
                    <input class="skill-score" type="text" name="system.attributes.{{key}}.score" value="{{attribute.score}}" data-dtype="Number"/>
                  
                    <!-- <input class="skill-edges" type="text" name="data.skills.{{key}}.edges.value" value="{{skill.edges.value}}" data-dtype="Number"/>
                  
                    <input class="skill-checkbox" name="data.skills.{{key}}.marked" type="checkbox" {{checked skill.marked}}>

                    <input class="skill-drawbacks" type="text" name="data.skills.{{key}}.drawbacks.value" value="{{skill.drawbacks.value}}" data-dtype="Number"/> -->
                </div>

                {{/if}}
            {{/each}}
          </div>
        </div>
          <!-- <div class="skills">
            <h2 style="text-align: center;">Subjects</h2>
            {{#each data.subjects as |subject key|}}
                <div class="skill" data-skill="{{key}}">

                    <input type="text" class="skill-name" name="data.subjects.{{key}}.name" data-label="{{key}}"/><h4 for="data.subjects.{{key}}.value" class="rollable" data-roll="(@subjects.{{key}}.value + @subjects.{{key}}.edges.value - @subjects.{{key}}.drawbacks.value)d6cs>=4" data-label="{{key}}">Roll</h4>
                    <input class="skill-input" type="text" name="data.subjects.{{key}}.value" value="{{subject.value}}" data-dtype="Number"/>
                  
                    <input class="skill-edges" type="text" name="data.subjects.{{key}}.edges.value" value="{{subject.edges.value}}" data-dtype="Number"/>
                  
                    <input class="skill-checkbox" name="data.subjects.{{key}}.marked" type="checkbox" {{checked skill.marked}}>

                    <input class="skill-drawbacks" type="text" name="data.subjects.{{key}}.drawbacks.value" value="{{skill.drawbacks.value}}" data-dtype="Number"/>
                </div>
            {{/each}}
          </div> -->

          <div class="rskill-container">
            <h3>Actions</h3>
            <div class="rskill-notes">
              {{editor 
              enrichedskillNotes
              engine='prosemirror'
              target="system.notes.skillNotes" button=true owner=owner editable=editable
              }}
            </div>
          </div>

          <div class="wounds-container">
            <div class="wounds">
              <h3>Wounds</h3>
                    <div class="resource light-wounds">
                      <h3><input class="hp-input" type="text" name="system.wounds.mwValue" value="{{system.wounds.mwValue}}" data-dtype="Number"/></h3>
                      <span> / </span>
                      <h3><input class="hp-input" type="text" name="system.wounds.mwMax" value="{{system.wounds.mwMax}}" data-dtype="Number"/></h3>
                    </div>
            </div>
            <div class="rskill-notes">
              {{editor 
              enrichedwoundNotes
              engine='prosemirror'
              target="system.notes.woundNotes" button=true owner=owner editable=editable
              }}
            </div>
          </div>
        </div>

    </div>      
    <div class="tab threads" data-group="primary" data-tab="threads">
          <h3>Threads</h3>

          <div class="threads-container">
              <div class="thread-notes">
                {{editor 
                enrichedcharacterNotes
                engine='prosemirror'
                target="system.notes.characterNotes" button=true owner=owner editable=editable
                }}
              </div>
              <div class="thread-notes">
              {{editor 
              enrichedextraNotes
              engine='prosemirror'
              target="system.notes.extraNotes" button=true owner=owner editable=editable
              }}
            </div>
          </div>

    </div>

    <div class="tab items" data-group="primary" data-tab="items">
          <div class="equipment">
            <div class="inventory-header">
              <h2 class="inventory-name">Inventory</h2>
              <input class="inventory-current" type="text" name="system.carryCap.current" value="{{system.carryCap.current}}" data-dtype="Number"/>
                <input class="inventory-max" type="text" name="system.carryCap.maximum" value="{{system.carryCap.maximum}}" data-dtype="Number"/>
            </div>
            <ol class="items-list">
              <li class="item flexrow item-header">
                <div class="item-name">Name</div>
                <div class="item-quantity">Drain</div>
                <div class="item-quantity">Slots</div>
                <div class="item-controls">
                  <a class="item-control item-create" title="{{localize "DOCUMENT.Create" type='Item'}}" data-type="item"><i class="fas fa-plus"></i>{{localize "DOCUMENT.New" type='Item'}}</a>
                </div>
              </li>
            {{#each gear as |item id|}}
              <li class="item flexrow items-list-item" data-item-id="{{item._id}}">
                  <h4 class="item-name collapsible"><a class="item-name">{{item.name}}</a></h4>
                  <h4 class="item-quantity">{{system.quality}}</h4>
                  <h4 class="item-slots">{{system.slots}}</h4>
                  <div class="item-controls">
                      <a class="item-control item-edit" title="{{localize "DOCUMENT.Update" type='Item'}}"><i class="fas fa-edit"></i></a>
                      <a class="item-control item-delete" title="{{localize "DOCUMENT.Delete" type='Item'}}"><i class="fas fa-trash"></i></a>
                  </div>
                  
              </li>
              <div class="item-description">
                {{{system.description}}}
              </div>
            {{/each}}
          </ol>
          </div>

          
          <!-- <div class="weapons">

          </div> -->
            
          <!-- <div class="talents">
            <div class="features" data-group="primary" data-tab="features">
              <h2>Talents</h2>
              <ol class="items-list">
                  <li class="item flexrow item-header">
                    <div class="item-name">Name</div>
                    <div class="item-controls">
                      <a class="item-control item-create" title="Create item" data-type="feature"><i class="fas fa-plus"></i></a>
                    </div>
                  </li>
              {{#each features as |feature id|}}
                  <li class="item flexrow" data-item-id="{{feature._id}}">
                      <h4><a class="item-name collapsible">{{feature.name}}</a></h4>
                      <div class="item-controls">
                          <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                          <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                      </div>
                  </li>
                  <div class="item-description">
                    {{{data.description}}}
                  </div>
              {{/each}}
              </ol>
          </div>
          </div>
      </div>

      <div class="tab weapons" data-group="primary" data-tab="weapons">
         -->
    </div>

      {{!-- Assets Tab --}}
    
    <div class="tab assets" data-group="primary" data-tab="assets">
        <h2>Assets</h2>
        <div class="augments-body">
        <div>
            <ol class="items-list">
              <li class="item flexrow item-header">
                <div class="item-image"></div>
                <div class="item-name">Name</div>
                <a class="item-control item-create" title="Create Asset" data-type="asset"><i class="fas fa-plus"></i>Add Asset</a>
              </li>
          {{#each assets as |asset id|}}
          <ol class="items-list"></ol>
            <li class="item flexrow items-list-item" data-item-id="{{asset._id}}">
                <div class="item-image" ><img src="{{asset.img}}" title="{{asset.name}}" width="24" height="24"/></div>
                <h4 class="item-name collapsible"><a class="item-name">{{asset.name}}</a> [{{system.rating}}]</h4>
                <div class="item-controls">
                    <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                </div>
            </li>
            <div class="item-description">
              {{{system.description}}}
            </div>
          {{/each}}
          </ol>
        </div>
        </div>
    </div>
      {{!-- Owned Features Tab --}}
      <div class="tab features" data-group="primary" data-tab="features">
          <ol class="items-list">
              <li class="item flexrow item-header">
                <div class="item-image"></div>
                <div class="item-name">Name</div>
                <div class="item-controls">
                  <a class="item-control item-create" title="Create item" data-type="feature"><i class="fas fa-plus"></i> Add item</a>
                </div>
              </li>
          {{#each features as |feature id|}}
              <li class="item flexrow" data-item-id="{{feature._id}}">
                  <div class="item-image"><img src="{{feature.img}}" title="{{feature.name}}" width="24" height="24"/></div>
                  <h4><a class="item-name collapsible">{{feature.name}}</a></h4>
                  <div class="item-controls">
                      <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                      <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                  </div>
              </li>
              <div class="item-description">
                {{{system.description}}}
              </div>
          {{/each}}
          </ol>
      </div>

      <script>
        var coll = Array.from(document.getElementsByClassName("collapsible"));
        var content = Array.from(document.getElementsByClassName("item-description"));
        var i;

        

        for (let i = 0; i < coll.length; i++) {
          coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            if (content[i].style.maxHeight){
              content[i].style.maxHeight = null;
            } else {
              content[i].style.maxHeight = content[i].scrollHeight + "px";
            }
        });
      }

        
        
      </script>

  </section>
</form>

